# 满汉助手 Android版本

基于Kivy框架开发的消除游戏自动化Android应用。

## 功能特性

- 🎮 自动识别游戏元素（基于YOLO模型）
- 🤖 智能游戏策略算法
- 📱 自适应手机分辨率
- 🔧 无需Root权限（使用无障碍服务）
- 📊 实时游戏状态监控
- ⚙️ 可配置的游戏参数

## 系统要求

- Android 5.0+ (API 21+)
- 2GB+ RAM
- 100MB+ 存储空间
- 无障碍服务权限

## 安装说明

### 方法一：直接安装APK
1. 下载最新的APK文件
2. 在手机上启用"未知来源"安装
3. 安装APK文件
4. 启动应用并授予必要权限

### 方法二：从源码构建

#### 环境准备
```bash
# 安装Python 3.8+
# 安装Java JDK 8+
# 安装Android SDK

# 安装buildozer
pip install buildozer

# 安装Cython
pip install Cython

# 安装其他依赖
pip install -r requirements.txt
```

#### 构建APK
```bash
# 初始化buildozer（首次运行）
buildozer init

# 构建调试版APK
buildozer android debug

# 构建发布版APK
buildozer android release
```

## 使用说明

### 首次使用
1. 启动应用
2. 点击"权限设置"按钮
3. 在系统设置中启用应用的无障碍服务
4. 返回应用，检查权限状态

### 基本操作
1. 打开目标游戏
2. 在满汉助手中点击"开始"
3. 应用将自动识别游戏界面并执行操作
4. 可随时点击"暂停"或"停止"

### 设置配置
- **目标步数**：设置游戏目标步数（默认30步）
- **目标分数**：设置游戏目标分数（默认1000分）
- **分辨率适配**：应用会自动检测并适配设备分辨率

## 文件结构

```
满汉助手/
├── main.py              # 主应用入口
├── game_core.py         # 游戏核心逻辑
├── screen_capture.py    # 屏幕截图模块
├── touch_controller.py  # 触摸控制模块
├── model_manager.py     # YOLO模型管理
├── buildozer.spec       # 构建配置文件
├── requirements.txt     # Python依赖
├── model/
│   └── best.pt         # YOLO模型文件
└── assets/             # 资源文件
```

## 权限说明

应用需要以下权限：

- **无障碍服务**：用于模拟触摸操作
- **存储权限**：用于保存模型文件和日志
- **网络权限**：用于模型更新（可选）
- **屏幕录制**：用于截取游戏画面

## 技术架构

### 核心组件
- **Kivy框架**：跨平台UI框架
- **YOLO模型**：游戏元素识别
- **OpenCV**：图像处理
- **NumPy**：数值计算

### 工作流程
1. 屏幕截图 → 2. 图像识别 → 3. 策略计算 → 4. 触摸执行

## 常见问题

### Q: 应用无法识别游戏元素？
A: 请确保：
- 游戏界面完全可见
- 屏幕亮度适中
- 模型文件正确放置

### Q: 触摸操作不生效？
A: 请检查：
- 无障碍服务是否已启用
- 应用是否有系统级权限
- 设备是否支持模拟触摸

### Q: 应用崩溃或卡顿？
A: 可能原因：
- 设备性能不足
- 内存不够
- 模型文件损坏

## 开发说明

### 添加新功能
1. 在对应模块中添加代码
2. 更新buildozer.spec配置
3. 重新构建APK

### 调试技巧
```bash
# 查看构建日志
buildozer android debug -v

# 查看设备日志
adb logcat | grep python

# 清理构建缓存
buildozer android clean
```

### 模型训练
如需训练自定义YOLO模型：
1. 收集游戏截图数据
2. 标注游戏元素
3. 使用YOLOv8训练
4. 替换model/best.pt文件

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的游戏自动化功能
- 自适应分辨率支持
- 无障碍服务集成

## 许可证

本项目仅供学习和研究使用。

## 联系方式

如有问题或建议，请联系开发者。

---

**注意**：使用本应用时请遵守游戏服务条款，合理使用自动化功能。
